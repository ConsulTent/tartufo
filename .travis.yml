dist: xenial   # required for Python >= 3.7
language: python
python:
  - "3.7"
jobs:
  include:
    - stage: test
      script: ./scripts/lint_and_test.sh
    - stage: lint_and_test
      # require the branch name to be master (note for PRs this is the base branch name)
      if: branch = build_and_deploy_whl_in_script
      script: ./scripts/build_and_deploy_wheel.sh
